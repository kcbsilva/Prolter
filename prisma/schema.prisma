// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Vlan {
  id               String   @id @default(cuid())
  vlanId           Int
  description      String?
  popId            String
  pop              Pop      @relation(fields: [popId], references: [id])
  status           String   // 'Active' | 'Inactive'
  isTagged         Boolean
  availableInHub   Boolean
  participantId    String?
  participant      Participant? @relation(fields: [participantId], references: [id])
  assignedTo       String?
  nasIdentifier    String
  interfaceName    String?
  allowAsInterface Boolean
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}

model Pop {
  id       String @id @default(cuid())
  name     String
  location String
  vlans    Vlan[]
  nas      Nas[]
}

model Participant {
  id              String  @id @default(cuid())
  companyName     String
  businessNumber  String?
  vlans           Vlan[]
}

model Nas {
  id         String @id @default(cuid())
  identifier String @unique
  popId      String
  pop        Pop    @relation(fields: [popId], references: [id])
}
